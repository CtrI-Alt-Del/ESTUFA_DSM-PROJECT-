{% extends "layouts/dashboard/index.html" %}

{% from "components/modal.html" import modal %}

{% block dashboard_content %}

<div class="px-12 pb-12 mt-6 bg-white rounded-md shadow-md">
    <div
        class="flex items-center gap-3 py-6 border-b-2 border-gray-300">
        <h1 class="text-2xl font-bold">Registro dos Sensores</h1>
    </div>

    <div class="flex items-center justify-between mt-6">
        {% include "components/datepicker.html" %}

        {% call modal(
        id="create-sensors-records-modal",
        title="Adicionar registro"
        )
        %}

        {% include "pages/sensors_records_table/form/index.html" %}

        {% endcall %}
    </div>

    <div id="resposta"></div>

    <div class="relative mt-6 overflow-x-auto shadow-md sm:rounded-lg">
        <form
            hx-get="{{ url_for('sensors_records_views.filter_sensors_records_view') }}"
            hx-target="#sensors_records"
            hx-target-error="#form_fields"
            hx-swap="innerHTML"
            data-pagination="form"
            data-query-param="hx-get"
            id="filter_sensors_records_form"
            class="p-6">
            {% include "components/plant_select.html" %}

            <input data-pagination="input" type="text" hidden>
        </form>

        <div
            data-pagination="container"
            id="sensors_records"
            class="flex flex-col justify-between h-[28rem]">
            {% include "pages/sensors_records_table/records.html" %}
        </div>
    </div>
</div>

<script
    src="{{ url_for('static', filename='scripts/query_param.js') }}"></script>
<script
    src="{{ url_for('static', filename='scripts/pagination.js') }}"></script>

{% endblock dashboard_content %}
