{% from "components/toast.html" import toast %}
{% from "components/error_component.html" import error_messages %}
{% from "components/label.html" import label %}

{% if error_message %}

<div class="w-full bg-blue-700">
  {{
  toast(
  id="create-plant-error-message",
  message=error_message,
  category="success",
  class="top-2 left-64"
  )
  }}
</div>

{% endif %}

{{ create_plant_form.csrf_token }}

<div
  _="on load trigger colorpicker on #create-plant-form"
  class="flex flex-col place-items-center">
  <div class="mt-10 input-container">
    {{
    label(
    id="create-plant-name",
    title=create_plant_form.name.label,
    icon="plant"
    )
    }}

    {{
    create_plant_form.name(
    id="create-plant-name",
    class="input-field",
    **{"data-colorpicker": "text-input"}
    )
    }}

    {{ error_messages(create_plant_form.name.errors[0]) }}

  </div>
  <div class="flex flex-col gap-2 mt-6 input-container place-items-center">

    <label
      data-colorpicker="label"
      for="create-plant-form-hex-color"
      class="relative flex justify-center items-center gap-2 rounded-lg bg-blue-600 px-3 py-2.5 text-xs font-medium uppercase leading-tight text-white shadow-md transition duration-150 ease-in-out hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg">

      {{
      create_plant_form.hex_color(
      id="create-plant-form-hex-color",
      class="absolute invisible",
      **{"data-colorpicker": "control"}
      )
      }}

      <i class="text-2xl ph ph-plant"></i>
      <p
        id="plant-name-preview"
        data-colorpicker="text-preview">
        Nome da planta
      </p>
    </label>
  </div>
</div>
