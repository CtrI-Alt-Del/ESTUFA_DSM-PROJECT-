{% from "components/label.html" import label %}
{% from "components/error_component.html" import error_messages %}

{% if error_message %}

{{
toast(
id="update-plant-error-message",
message=error_message,
category="success",
class="top-2 left-[32%]"
)
}}

{% endif %}

{{ update_plant_form.csrf_token }}

<div class="flex flex-col place-items-center">
  <div class="mt-10 input-container">

    {{
    label(
    id="update-plant-name",
    title=update_plant_form.name.label,
    icon="plant"
    )
    }}

    {{
    update_plant_form.name(
    id="update-plant-name",
    class="input-field",
    **{"data-colorpicker": "text-input"}
    )
    }}
    {{error_messages(update_plant_form.name.errors[0])}}
  </div>
  <div class="flex flex-col gap-2 mt-6 input-container place-items-center">

    <label
      data-colorpicker="label"
      for="update-plant-form-hex-color"
      class="relative flex justify-center items-center gap-2 rounded-lg bg-blue-600 px-3 py-2.5 text-xs font-medium uppercase leading-tight text-white shadow-md transition duration-150 ease-in-out hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg">

      {{
      update_plant_form.hex_color(
      id="update-plant-form-hex-color",
      class="absolute invisible",
      **{"data-colorpicker": "control"}
      )
      }}

      <i class="text-2xl ph ph-plant"></i>
      <p data-colorpicker="text-preview">Nome da planta</p>
    </label>
  </div>
</div>

<script>
  new Colorpicker("update-plant-form")
</script>
