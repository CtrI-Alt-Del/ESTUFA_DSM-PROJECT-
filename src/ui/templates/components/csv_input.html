{% from "components/loading.html" import loading %}

{% macro csv_input(url, attributes) %}

<div class="flex items-center gap-1">
  <label for="input"
    class="cursor-pointer rounded-xl p-2 m-1 text-white bg-gray-700">
    <i class="ph-bold ph-upload-simple"></i>
    <span class="text-sm">Importar CSV</span>
    <input data-csv-input="input" id="input" type="file" name="csv" hidden>
  </label>
  <button
    data-loading-disable
    data-loading-class="pointer-events-none"
    data-csv-input="submit-button"
    type="submit"
    class="flex items-center"
    {{ attributes }}>
    <div
      data-csv-input="submit-icon"
      data-loading-class="invisible"
      class="hidden gap-1 p-2 text-xs text-gray-100 bg-gray-700 rounded-xl animate-fade-right">
      <i class="text-base text-gray-100 ph ph-arrow-fat-line-right"></i>
    </div>
  </button>
  {{ loading(class="w-6 h-6") }}
</div>

<script src="{{ url_for('static', filename='scripts/csv_input.js') }}"></script>

{% endmacro %}